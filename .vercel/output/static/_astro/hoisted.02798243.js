import{g as l,i as m,s as u,G as g,a as E,b as h}from"./client.fecf7bd5.js";import"https://cdn.tailwindcss.com";import"https://cdn.tailwindcss.com/2.2.19/tailwind.min.js";const f=document.querySelector(".menu-btn"),a=document.querySelector("#mobile-menu"),v=document.querySelectorAll(".submenu-btn");document.querySelectorAll(".submenu");f.addEventListener("click",function(){a.classList.toggle("hidden")});v.forEach(function(e){e.addEventListener("click",function(){this.nextElementSibling.classList.toggle("hidden")})});document.addEventListener("click",function(e){const t=e.target,s=t.closest("#mobile-menu"),n=t.closest(".menu-btn");!s&&!n&&a.classList.add("hidden")});const r=l(h);r.setPersistence(m);const d=document.querySelector("form");d.addEventListener("submit",async e=>{e.preventDefault();const t=new FormData(d),s=t.get("email")?.toString(),n=t.get("password")?.toString();if(!s||!n)return;const c=await(await u(r,s,n)).user.getIdToken(),i=await fetch("/api/auth/signin",{headers:{Authorization:`Bearer ${c}`}});i.redirected&&window.location.assign(i.url)});const w=document.querySelector("#google");w.addEventListener("click",async()=>{const e=new g,s=await(await E(r,e)).user.getIdToken(),n=await fetch("/api/auth/signin",{headers:{Authorization:`Bearer ${s}`}});n.redirected&&window.location.assign(n.url)});document.getElementById("mioBottone").addEventListener("click",function(){var e=document.getElementById("emailInput").value,t=document.getElementById("usernameInput").value,s=document.getElementById("passwordInput").value,n=document.getElementById("confirmPasswordInput").value;document.getElementById("emailError").classList.add("hidden"),document.getElementById("emailInvalidError").classList.add("hidden"),document.getElementById("usernameError").classList.add("hidden"),document.getElementById("passwordError").classList.add("hidden"),document.getElementById("confirmPasswordError").classList.add("hidden"),document.getElementById("passwordMatchError").classList.add("hidden");var o=I(e);e?o||document.getElementById("emailInvalidError").classList.remove("hidden"):document.getElementById("emailError").classList.remove("hidden"),t||document.getElementById("usernameError").classList.remove("hidden"),s||document.getElementById("passwordError").classList.remove("hidden"),n||document.getElementById("confirmPasswordError").classList.remove("hidden"),o&&t&&s&&n&&(s!==n?document.getElementById("passwordMatchError").classList.remove("hidden"):window.location.href="index.html")});function I(e){var t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)}
