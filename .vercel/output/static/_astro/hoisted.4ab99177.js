import{g as u,i as m,s as g,G as p,a as h,b as f}from"./client.fecf7bd5.js";import"https://www.gstatic.com/firebasejs/9.0.1/firebase-firestore.js";import"https://www.gstatic.com/firebasejs/9.0.1/firebase-auth.js";import"https://www.gstatic.com/firebasejs/9.0.1/firebase-app.js";import"https://cdn.tailwindcss.com";import"https://cdn.tailwindcss.com/2.2.19/tailwind.min.js";const w={apiKey:"AIzaSyBr-f6q5j6y2-nuuJ4M29OcVjZCQmS2GJA",authDomain:"blog-3a194.firebaseapp.com",projectId:"blog-3a194",storageBucket:"blog-3a194.appspot.com",messagingSenderId:"408317893326",appId:"1:408317893326:web:47269223e7148ce3840e9f"};firebase.initializeApp(w);const c=firebase.auth(),b=document.getElementById("mioBottone");b.addEventListener("click",()=>{const t=document.querySelector("input[type='email']").value,e=document.querySelector("input[type='password']").value;c.signInWithEmailAndPassword(t,e).then(n=>{window.location.href="index.html"}).catch(n=>{console.error(n)})});const v=document.getElementById("google");v.addEventListener("click",()=>{const t=new firebase.auth.GoogleAuthProvider;c.signInWithPopup(t).then(e=>{window.location.href="index.html"}).catch(e=>{console.error(e)})});const E=document.querySelector(".menu-btn"),d=document.querySelector("#mobile-menu"),y=document.querySelectorAll(".submenu-btn");document.querySelectorAll(".submenu");E.addEventListener("click",function(){d.classList.toggle("hidden")});y.forEach(function(t){t.addEventListener("click",function(){this.nextElementSibling.classList.toggle("hidden")})});document.addEventListener("click",function(t){const e=t.target,n=e.closest("#mobile-menu"),o=e.closest(".menu-btn");!n&&!o&&d.classList.add("hidden")});const s=u(f);s.setPersistence(m);const r=document.querySelector("form");r.addEventListener("submit",async t=>{t.preventDefault();const e=new FormData(r),n=e.get("email")?.toString(),o=e.get("password")?.toString();if(!n||!o)return;const l=await(await g(s,n,o)).user.getIdToken(),a=await fetch("/api/auth/signin",{headers:{Authorization:`Bearer ${l}`}});a.redirected&&window.location.assign(a.url)});const I=document.querySelector("#google");I.addEventListener("click",async()=>{const t=new p,n=await(await h(s,t)).user.getIdToken(),o=await fetch("/api/auth/signin",{headers:{Authorization:`Bearer ${n}`}});o.redirected&&window.location.assign(o.url)});document.getElementById("mioBottone").addEventListener("click",function(){var t=document.getElementById("emailInput").value,e=document.getElementById("passwordInput").value,n=document.getElementById("emailError"),o=document.getElementById("passwordError");n.classList.add("hidden"),o.classList.add("hidden");var i=B(t);t?i||(n.textContent="Email non valida.",n.classList.remove("hidden")):(n.textContent="Campo obbligatorio.",n.classList.remove("hidden")),e||(o.textContent="Campo obbligatorio.",o.classList.remove("hidden")),i&&e&&(window.location.href="index.html")});function B(t){var e=/\S+@\S+\.\S+/;return e.test(t)}
